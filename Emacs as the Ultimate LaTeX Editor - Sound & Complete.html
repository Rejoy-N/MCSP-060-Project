<!DOCTYPE html>
<html lang="en-us"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.19-DEV">


<title>Emacs as the Ultimate LaTeX Editor - Sound &amp; Complete</title>
<meta property="og:title" content="Emacs as the Ultimate LaTeX Editor - Sound &amp; Complete">



  






<link rel="stylesheet" href="Emacs%20as%20the%20Ultimate%20LaTeX%20Editor%20-%20Sound%20&amp;%20Complete_files/main.css" media="all">
<link rel="stylesheet" href="Emacs%20as%20the%20Ultimate%20LaTeX%20Editor%20-%20Sound%20&amp;%20Complete_files/github.css" media="all">
<link rel="stylesheet" href="Emacs%20as%20the%20Ultimate%20LaTeX%20Editor%20-%20Sound%20&amp;%20Complete_files/css.css">
<link href="Emacs%20as%20the%20Ultimate%20LaTeX%20Editor%20-%20Sound%20&amp;%20Complete_files/font-awesome.css" rel="stylesheet">



<meta property="og:locale" content="en_US">
<meta property="og:description" content="A personal blog.">
<meta property="og:url" content="https://piotrkazmierczak.com/2010/emacs-as-the-ultimate-latex-editor/">
<meta property="og:site_name" content="Sound &amp; Complete">


<link rel="apple-touch-icon" sizes="57x57" href="https://piotrkazmierczak.com/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://piotrkazmierczak.com/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://piotrkazmierczak.com/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://piotrkazmierczak.com/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://piotrkazmierczak.com/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://piotrkazmierczak.com/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://piotrkazmierczak.com/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://piotrkazmierczak.com/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://piotrkazmierczak.com/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192" href="https://piotrkazmierczak.com/android-chrome-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://piotrkazmierczak.com/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://piotrkazmierczak.com/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://piotrkazmierczak.com/favicon-16x16.png">
<link rel="manifest" href="https://piotrkazmierczak.com/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="https://piotrkazmierczak.com/" class="nav-logo"><img src="Emacs%20as%20the%20Ultimate%20LaTeX%20Editor%20-%20Sound%20&amp;%20Complete_files/logo.png" height="96" width="96"></a>

  <ul class="nav-links">
    
    <li><a href="https://piotrkazmierczak.com/about/">About</a></li>
    
    <li><a href="https://piotrkazmierczak.com/research/">Research</a></li>
    
    <li><a href="http://twitter.com/pkazmierczak"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
    <li><a href="http://github.com/pkazmierczak"><i class="fa fa-github" aria-hidden="true"></i></a></li>
    <li><a href="https://piotrkazmierczak.com/feed/" type="application/rss+xml" target="_blank"><i class="fa fa-rss" aria-hidden="true"></i></a></li>
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
      
      <span class="article-duration">5 min read</span>
      
    

    <h1 class="article-title">Emacs as the Ultimate LaTeX Editor</h1>

    
    <span class="article-date">May 13, 2010 • Bergen, Norway</span>
    

    <div class="article-content">
      <p>Everyone knows, that <a href="http://www.gnu.org/software/emacs/">GNU Emacs</a> is <a href="http://www.dina.dk/%7Eabraham/religion/">THE Best Programmer’s Editor</a>. Not everyone knows, though, that when you combine it with <a href="http://www.gnu.org/software/auctex/">AUCTeX</a> macros, it also becomes <strong>THE</strong> Best Editor for LaTeX.</p>

<p>The biggest problem with Emacs is that it’s not a particularly 
intuitive piece of software, to say the least, hence many users flee 
after their first encounter with it. Emacs has its complicated keyboard 
shortcuts, enormous documentation and config files written in a Lisp 
dialect (called <a href="http://en.wikipedia.org/wiki/Emacs_lisp">Emacs lisp</a>), so at first it might seem very unpleasant using it. However, once <em>tamed</em>, it becomes your best friend.</p>

<p>I’d like to present some tips that customize Emacs making it a 
perfect and very sophisticated editor for LaTeX. Most of these ideas are
 taken from various config files, howtos and other resources found on 
the web. Some of them are mine, but I can no longer tell which.</p>

<p>First things first: you need to get Emacs and AUCTeX, and get it running.</p>

<p>Every major linux distro comes with both Emacs and AUCTeX available via package systems. In Ubuntu, you just type <code>sudo apt-get install emacs23 auctex</code> and you’re laughing. Emacs is also <a href="http://ftp.gnu.org/gnu/emacs/windows/">available</a> for Windows, and AUCTeX website has <a href="http://www.gnu.org/software/auctex/download-for-windows.html">instructions</a> on how to set it up with Windows systems. Mac users have a choice of setting up either <a href="http://homepage.mac.com/zenitani/emacs-e.html">Carbon Emacs</a> (a version closer to original GNU Emacs) or <a href="http://aquamacs.org/">Aquamacs</a>
 (an Emacs variant supporting tabs and other nice tweaks; preferred 
Emacs package by all Mac users I know, Karolina included). Full 
comparison of Mac Emacs variants is available <a href="http://aquamacs.org/feature-matrix.shtml">here</a>,
 so you can make your own choice. Both Carbon Emacs and Aquamacs come 
with AUCTeX bundled, so there’s no need to download additional packages.</p>

<p>After running Emacs and loading a TeX file (<code>C-x C-f file_name.tex</code>), AUCTeX should load itself automatically. If it doesn’t happen, you can invoke it with <code>M-x tex-mode</code>, or you can put the following into your <code>$HOME/.emacs</code> file:</p>

<div class="highlight"><pre><code class="language-cl" data-lang="cl"><span></span><span class="p">(</span><span class="k">setq</span> <span class="nv">TeX-auto-save</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">TeX-parse-self</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">TeX-save-query</span> <span class="no">nil</span><span class="p">)</span>
<span class="c1">;(setq TeX-PDF-mode t)</span>
</code></pre></div>


<p><em>(all the code snippets from this post are available as a <a href="https://gist.github.com/pkazmierczak/4331666">Github Gist</a>)</em></p>

<p>The options above will make sure, that AUCTeX macros are loaded every time a TeX file is opened. The last option, <code>;(setq TeX-PDF-mode t)</code>, is commented (all lines beginning with <code>;</code> are a comment in Emacs Lisp), but you can uncomment it if you want to have PDFLaTeX mode enabled by default for all documents.</p>

<p>AUCTeX has a number of nice features, the two I use most often are:</p>

<ul>
<li>automatic formatting of a section: <code>C-c C-q C-s</code>;</li>
<li>section preview: <code>C-c C-p C-s</code>; (see the screenshot on the right)</li>
</ul>

<p><img src="Emacs%20as%20the%20Ultimate%20LaTeX%20Editor%20-%20Sound%20&amp;%20Complete_files/emacs-latex-preview.png"></p>

<p>Preview function is very nice, because you can <em>see</em> the commands that are <em>behind</em>
 preview images, edit the code, apply preview again and see the results —
 no need to parse the whole file too often, and most importantly no need
 to switch to a PDF/PS viewer to see if your math formula/xypic tree is 
formatted correctly. Trust me, this saves a lot of time.</p>

<p><em>(update 27.12.2012: there’s another way of previewing LaTeX symbols inside an Emacs buffer, take a look <a href="https://piotrkazmierczak.com/2012/12/27/previewing-latex-symbols-without-preview-latex/">here</a>)</em></p>

<p>AUCTeX has many many more features, and you can always consult its <a href="http://www.gnu.org/software/auctex/documentation.html">documentation</a>
 if you want to learn more. It’s a little bit overwhelming, but learning
 it is a very good investment, especially if you work with TeX a lot. 
But there are more packages that provide features which make your life 
easier.</p>

<p><a href="http://flymake.sourceforge.net/">Flymake</a> is one of those
 packages. It enables Emacs to check the syntax of your TeX file 
on-the-fly. To turn it on, put the following code in your <code>$HOME/.emacs</code>:</p>

<div class="highlight"><pre><code class="language-cl" data-lang="cl"><span></span><span class="p">(</span><span class="nb">require</span> <span class="ss">'flymake</span><span class="p">)</span>

<span class="p">(</span><span class="nb">defun</span> <span class="nv">flymake-get-tex-args</span> <span class="p">(</span><span class="nv">file-name</span><span class="p">)</span>
<span class="p">(</span><span class="nb">list</span> <span class="s">"pdflatex"</span>
<span class="p">(</span><span class="nb">list</span> <span class="s">"-file-line-error"</span> <span class="s">"-draftmode"</span> <span class="s">"-interaction=nonstopmode"</span> <span class="nv">file-name</span><span class="p">)))</span>

<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'LaTeX-mode-hook</span> <span class="ss">'flymake-mode</span><span class="p">)</span>
</code></pre></div>


<p>Beware, though — flymake consumes quite a lot of CPU power, 
especially when used with large files (and paradoxically large files 
make it most useful).</p>

<p>On the other hand, spell-checking while you type isn’t so cpu consuming, and you can turn it on with:</p>

<div class="highlight"><pre><code class="language-cl" data-lang="cl"><span></span><span class="p">(</span><span class="k">setq</span> <span class="nv">ispell-program-name</span> <span class="s">"aspell"</span><span class="p">)</span> <span class="c1">; could be ispell as well, depending on your preferences</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">ispell-dictionary</span> <span class="s">"english"</span><span class="p">)</span> <span class="c1">; this can obviously be set to any language your spell-checking program supports</span>

<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'LaTeX-mode-hook</span> <span class="ss">'flyspell-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'LaTeX-mode-hook</span> <span class="ss">'flyspell-buffer</span><span class="p">)</span>
</code></pre></div>


<p>Another nice package is the <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Outline-Mode.html">Outline Mode</a>. It allows the user to <em>hide</em> some parts of the text file, which makes working with large files much easier. To enable it, put the following in <code>$HOME/.emacs</code>:</p>

<div class="highlight"><pre><code class="language-cl" data-lang="cl"><span></span><span class="p">(</span><span class="nb">defun</span> <span class="nv">turn-on-outline-minor-mode</span> <span class="p">()</span>
<span class="p">(</span><span class="nv">outline-minor-mode</span> <span class="mi">1</span><span class="p">))</span>

<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'LaTeX-mode-hook</span> <span class="ss">'turn-on-outline-minor-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'latex-mode-hook</span> <span class="ss">'turn-on-outline-minor-mode</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">outline-minor-mode-prefix</span> <span class="s">"\C-c \C-o"</span><span class="p">)</span> <span class="c1">; Or something else</span>
</code></pre></div>


<p>Now you can <em>fold</em> sections, subsections, chapters, or the whole document. To hide all the contents of your current section, use <code>C-c C-o C-l</code>. You can apply it to a chapter, subsection, etc. You can also move to a next <em>unit</em> of your document with <code>C-c C-o C-n</code>, or to a previous one with <code>C-c C-o C-p</code>. If you’re lost and want to see the whole document again, use <code>C-c C-o C-a</code>.</p>

<p>Folding and unfolding parts of the text might be confusing, though, 
but there’s another way to navigate through a big TeX file, and you can 
use <a href="http://www.gnu.org/software/auctex/reftex.html">Reftex</a> mode for it. Reftex is a mode that helps with managing references (<a href="http://www.gnu.org/software/auctex/manual/reftex.index.html">full documentation</a>),
 but it can also be used to create a table of contents for a TeX file 
and to navigate using it. Here is my configuration for Reftex from my <code>.emacs</code> file:</p>

<div class="highlight"><pre><code class="language-cl" data-lang="cl"><span></span><span class="p">(</span><span class="nb">require</span> <span class="ss">'tex-site</span><span class="p">)</span>
<span class="p">(</span><span class="nv">autoload</span> <span class="ss">'reftex-mode</span> <span class="s">"reftex"</span> <span class="s">"RefTeX Minor Mode"</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="nv">autoload</span> <span class="ss">'turn-on-reftex</span> <span class="s">"reftex"</span> <span class="s">"RefTeX Minor Mode"</span> <span class="no">nil</span><span class="p">)</span>
<span class="p">(</span><span class="nv">autoload</span> <span class="ss">'reftex-citation</span> <span class="s">"reftex-cite"</span> <span class="s">"Make citation"</span> <span class="no">nil</span><span class="p">)</span>
<span class="p">(</span><span class="nv">autoload</span> <span class="ss">'reftex-index-phrase-mode</span> <span class="s">"reftex-index"</span> <span class="s">"Phrase Mode"</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'latex-mode-hook</span> <span class="ss">'turn-on-reftex</span><span class="p">)</span> <span class="c1">; with Emacs latex mode</span>
<span class="c1">;; (add-hook 'reftex-load-hook 'imenu-add-menubar-index)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'LaTeX-mode-hook</span> <span class="ss">'turn-on-reftex</span><span class="p">)</span>

<span class="p">(</span><span class="k">setq</span> <span class="nv">LaTeX-eqnarray-label</span> <span class="s">"eq"</span>
<span class="nv">LaTeX-equation-label</span> <span class="s">"eq"</span>
<span class="nv">LaTeX-figure-label</span> <span class="s">"fig"</span>
<span class="nv">LaTeX-table-label</span> <span class="s">"tab"</span>
<span class="nv">LaTeX-myChapter-label</span> <span class="s">"chap"</span>
<span class="nv">TeX-auto-save</span> <span class="no">t</span>
<span class="nv">TeX-newline-function</span> <span class="ss">'reindent-then-newline-and-indent</span>
<span class="nv">TeX-parse-self</span> <span class="no">t</span>
<span class="nv">TeX-style-path</span>
<span class="o">'</span><span class="p">(</span><span class="s">"style/"</span> <span class="s">"auto/"</span>
<span class="s">"/usr/share/emacs21/site-lisp/auctex/style/"</span>
<span class="s">"/var/lib/auctex/emacs21/"</span>
<span class="s">"/usr/local/share/emacs/site-lisp/auctex/style/"</span><span class="p">)</span>
<span class="nv">LaTeX-section-hook</span>
<span class="o">'</span><span class="p">(</span><span class="nv">LaTeX-section-heading</span>
<span class="nv">LaTeX-section-title</span>
<span class="nv">LaTeX-section-toc</span>
<span class="nv">LaTeX-section-section</span>
<span class="nv">LaTeX-section-label</span><span class="p">))</span>
</code></pre></div>


<p>Once Reftex is loaded, you can invoke the table of contents buffer with
<code>C-c =</code></p>

<p><img src="Emacs%20as%20the%20Ultimate%20LaTeX%20Editor%20-%20Sound%20&amp;%20Complete_files/emacs-reftex-toc.png" class="small"></p>

<p>All right, enough. If I mention any more packages, I guess it will 
scare off those who aren’t already scared. I know that Emacs is a bit <em>peculiar</em>
 with its complicated keyboard shortcuts, enormous documentation and 
thousands of modes. It’s not easy to learn, but definitely worth it. I 
remember that switching from Vim to Emacs for LaTeX editing wasn’t easy,
 but I never&nbsp;regretted&nbsp;that, and I hope whoever’s going to 
switch under the influence of this post will not regret it either.</p>

    </div>
  </article>

  

<hr>




  

  
    
      <a class="archive-item-link-small" href="https://piotrkazmierczak.com/2016/jazz-music-in-2016/">Jazz Music in 2016</a>&nbsp;•&nbsp;
    
      <a class="archive-item-link-small" href="https://piotrkazmierczak.com/2016/boraan-aws-cloudformation-wrapper/">bora—an AWS Cloudformation wrapper</a>&nbsp;•&nbsp;
    
      <a class="archive-item-link-small" href="https://piotrkazmierczak.com/2016/between-the-world-and-me/">“Between the world and me”</a>&nbsp;•&nbsp;
    
      <a class="archive-item-link-small" href="https://piotrkazmierczak.com/2016/aws-cloudformation-template-for-counter-strike-go-server/">AWS Cloudformation template for Counter Strike GO server</a>&nbsp;•&nbsp;
    
      <a class="archive-item-link-small" href="https://piotrkazmierczak.com/2016/iphone-7-plus-and-its-two-lenses/">iPhone 7 Plus and its Two Lenses</a>&nbsp;•&nbsp;
    
  
  <a class="archive-item-link-small" href="https://piotrkazmierczak.com/archive/">...</a>
  


</main>

      <footer class="footer">
          <ul class="footer-links">
            <li>
              <p>© 2009—2016 Piotr Kazmierczak</p>
            </li>
            <li>
          <a href="https://github.com/jrutheiser/hugo-lithium-theme">designed by Jonathan Rutheiser</a>
            </li>
        </ul>
      </footer>

    </div>

    
  


</body></html>